<div class="max-w-xl mx-auto mt-10 p-6 bg-white rounded-lg shadow-md">
  <!-- Subscription Form -->
  <div *ngIf="!showUpdates">
    <h2 class="text-2xl font-bold mb-4 text-center">Subscribe to our Newsletter</h2>

    <form (ngSubmit)="subscribe()" class="space-y-4" novalidate>
      <input
        type="email"
        [(ngModel)]="email"
        name="email"
        placeholder="Enter your email"
        required
        class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400"
      />

      <button
        type="submit"
        class="w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-500 transition"
      >
        Subscribe
      </button>
    </form>

    <!-- Success and Error Feedback -->
    <div *ngIf="submitted" class="mt-4 text-green-600 text-center">
      üéâ Subscription successful!
    </div>
    <div *ngIf="error" class="mt-4 text-red-600 text-center">
      ‚ùå Subscription failed. Try again.
    </div>
  </div>

  <!-- Email Updates List -->
  <div *ngIf="showUpdates">
    <h2 class="text-2xl font-bold mb-4 text-center">All Subscribers</h2>

    <ul class="space-y-2 max-h-60 overflow-y-auto">
      <li *ngFor="let email of updates" class="bg-gray-100 p-2 rounded">
        {{ email }}
      </li>
    </ul>

    <button
      (click)="showUpdates = false"
      class="mt-6 w-full bg-gray-600 text-white py-2 rounded-md hover:bg-gray-500 transition"
    >
      Back to Subscribe
    </button>
  </div>
</div>

<!-- View All Updates Button -->
<div class="text-center mt-10" *ngIf="!showUpdates">
  <button
    (click)="loadUpdates()"
    class="inline-block bg-red-600 text-white px-6 py-3 rounded-full font-semibold hover:bg-red-500 transition"
  >
    View All Updates
  </button>
</div>
