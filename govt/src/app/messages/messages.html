<app-loading *ngIf="isLoading"></app-loading>

<div *ngIf="!isLoading" class="p-6 max-w-3xl mx-auto bg-white rounded-lg shadow-md">
  <h2 class="text-2xl font-bold mb-6 text-purple-700 flex items-center">
    ğŸ“© Messages
    <span class="ml-2 text-gray-500 text-sm font-normal">
      ({{ messages.length }})
    </span>
  </h2>

  <div *ngIf="errorMessage" class="bg-red-100 text-red-700 px-4 py-2 rounded mb-4">
    {{ errorMessage }}
  </div>

  <div *ngIf="messages.length === 0 && !errorMessage" class="text-gray-500 text-center py-4">
    ğŸš« No messages found.
  </div>

  <ul *ngIf="messages.length > 0" class="divide-y divide-gray-200">
    <li *ngFor="let msg of messages" class="py-4 hover:bg-purple-50 px-3 rounded transition">
      <div class="flex items-center justify-between mb-1">
        <span class="font-semibold text-gray-800">{{ msg.name }}</span>
        <span class="text-xs text-gray-500">{{ msg.created_at }}</span>
      </div>

      <div class="text-sm text-gray-600 mb-1">
        ğŸ“§ <a href="mailto:{{ msg.email }}" class="text-blue-600 hover:underline">{{ msg.email }}</a>
      </div>

      <div class="text-purple-700 font-medium mb-1">
        {{ msg.subject }}
      </div>

      <div class="text-gray-700 mb-2">
        {{ msg.message }}
      </div>

      <button
        (click)="deleteMessage(msg.id)"
        class="bg-red-600 text-white px-3 py-1 text-sm rounded hover:bg-red-700"
      >
        Delete
      </button>
    </li>
  </ul>
</div>
